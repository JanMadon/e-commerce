import{r as u,m as O,o as c,c as y,b as i,d as t,k as r,f as m,g as j,h as g,i as C,F as S,j as $,t as a,q as B,l as x,n as w,O as D}from"./app-O0YGpkNr.js";import{_ as N}from"./AdminLayout-GHib-gmW.js";import{_ as V,a as P}from"./SearchFrom-QMR5MxJ-.js";import{_ as M}from"./DetailsOrderModal-CzcT_wHj.js";import{P as E}from"./PrimaryButton-TZP9yBEG.js";import{_ as A}from"./SecondaryButton-Kr_QdYvC.js";import{D as F}from"./DangerButton-JCs7rJF4.js";import{_ as I}from"./PaginateSelector-JF_TZJ-F.js";import{s as T,a as U}from"./CategoryBar-jmnfL6ZP.js";import"./TextInput-QSM6ydAm.js";import"./Modal-ug0lfLka.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const q={class:"flex items-center justify-between bg-slate-100 mb-3 text-gray-600"},z={class:"px-10"},L=t("option",{value:""},"All",-1),W=t("option",{value:"accepted"},"Payment accepted",-1),G=t("option",{value:"rejected"},"Payment rejected",-1),H=t("option",{value:"waiting"},"Waiting to be sent",-1),J=t("option",{value:"sent"},"Orders shipped",-1),K=t("option",{value:"canceled"},"Orders canceled",-1),Q=[L,W,G,H,J,K],R={class:"flex justify-center overflow-auto"},X={class:"bg-gray-200 rounded-xl overflow-hidden"},Y=t("thead",{class:"bg-gray-200 font-bold"},[t("tr",null,[t("th",{class:"text-gray-900 px-6 py-4 text-center w-12"}," Order Id number "),t("th",{class:"text-gray-900 px-6 py-4 text-left"}," Users "),t("th",{class:"text-gray-900 px-6 py-4 text-left"}," Date of payment "),t("th",{class:"text-gray-900 px-6 py-4 text-left"}," Amound paid "),t("th",{class:"text-gray-900 px-6 py-4 text-left"}," Shiping Method "),t("th",{class:"text-gray-900 px-6 py-4 text-left"}," Payment "),t("th",{class:"text-gray-900 px-6 py-4 text-left"}," Status "),t("th",{class:"text-gray-900 px-6 py-4 text-center"}," Options ")])],-1),Z=["id"],tt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center"},et={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center"},st=["href"],at={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center"},ot={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center"},nt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center"},rt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center"},ct={class:"px-6 py-4 whitespace-nowrap font-medium text-gray-900 text-center"},wt={__name:"Orders",props:{orders:Object},setup(d){const o=d,h=u(!1),_=u(),l=u(""),v=O(()=>{switch(l.value){case"accepted":return o.orders.data.filter(s=>s.payment==="accepted");case"rejected":return o.orders.data.filter(s=>s.payment==="rejected");case"waiting":return o.orders.data.filter(s=>s.status==="waiting");case"sent":return o.orders.data.filter(s=>s.status==="sent");case"canceled":return o.orders.data.filter(s=>s.status==="canceled");default:return o.orders.data}});function b(s,n){_.value=n,h.value=!0}const f=(s,n,e)=>{D.patch(route("orders.update.status",s),{field:n,newValue:e},{onSuccess:()=>{T("The order status change was successful")},onError:()=>{U("Order status change failed")}})};return(s,n)=>(c(),y(N,null,{default:i(()=>[t("nav",q,[r(V,{placeholder:"Search user by login"}),r(I),t("div",z,[m(t("select",{name:"",id:"","onUpdate:modelValue":n[0]||(n[0]=e=>l.value=e),class:"py-0 border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},Q,512),[[j,l.value]])])]),t("div",R,[t("table",X,[Y,t("tbody",null,[(c(!0),g(S,null,C(v.value,(e,k)=>(c(),g("tr",{id:k,class:"bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100"},[t("td",tt,a(e.id),1),t("td",et,[t("a",{href:s.route("admin.userInfo",e.user.id),class:"text-blue-500"},a(e.user.name),9,st)]),t("td",at,a(e.payd_at),1),t("td",ot,a(e.amount_paid),1),t("td",nt,a(e.shiping_method),1),t("td",{class:B(["px-6 py-4 whitespace-nowrap text-sm font-medium text-center",e.payment=="accepted"?"text-green-600":"text-gray-900",e.payment=="rejected"?"text-red-600":"text-gray-900"])},a(e.payment),3),t("td",rt,a(e.status),1),t("td",ct,[r(A,{onClick:p=>b(p,e),class:"scale-75"},{default:i(()=>[x("more ")]),_:2},1032,["onClick"]),m(r(E,{onClick:p=>f(e.id,"status","sent"),class:"scale-75"},{default:i(()=>[x(" sent ")]),_:2},1032,["onClick"]),[[w,e.payment==="accepted"&&e.status==="waiting"]]),m(r(F,{onClick:p=>f(e.id,"status","canceled"),class:"px-4 py-2 scale-75"},{default:i(()=>[x(" cancel ")]),_:2},1032,["onClick"]),[[w,e.payment==="accepted"&&e.status==="waiting"]])])],8,Z))),256))])])]),r(M,{showModal:h.value,selectedOrder:_.value},null,8,["showModal","selectedOrder"]),d.orders.last_page>1?(c(),y(P,{key:0,items:d.orders.links},null,8,["items"])):$("",!0)]),_:1}))}};export{wt as default};
