import{r as h,m as P,o as n,c as k,b as i,d as e,k as d,z as M,t as a,h as _,i as q,F as L,j as V,f as D,v as T,l as u,A,q as U}from"./app-O0YGpkNr.js";import{_ as z}from"./AdminLayout-GHib-gmW.js";import{_ as E,a as F}from"./SearchFrom-QMR5MxJ-.js";import{D as j}from"./DangerButton-JCs7rJF4.js";import{_ as y}from"./SecondaryButton-Kr_QdYvC.js";import{P as N}from"./PrimaryButton-TZP9yBEG.js";import{_ as I}from"./Modal-ug0lfLka.js";import{_ as O}from"./PaginateSelector-JF_TZJ-F.js";import{s as Z,a as R}from"./CategoryBar-jmnfL6ZP.js";import"./TextInput-QSM6ydAm.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const G={class:"flex items-center justify-between bg-slate-100 mb-3 text-gray-600"},H={class:"pl-10 w-48"},J={class:"flex flex-col items-center"},K={class:"flex"},Q={class:"w-[90px] h-[90px] mx-3 bg-gray-200 overflow-hidden"},W=["src"],X={class:"flex flex-col ml-5"},Y={class:"flex flex-col ml-10"},ee=e("p",null,"Pieces sold:",-1),te={key:0,class:"flex flex-col justify-between items-end"},se={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},le=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"},null,-1),ae=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1),oe=[le,ae],ne={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},ie=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1),ce=[ie],de={class:"flex"},ue={key:1},re={class:"flex text-xl"},_e={class:"flex flex-col ml-10 w-1/2"},ve={class:"my-2"},he=e("p",{class:"font-bold"},"Name: ",-1),fe={class:"my-2"},me=e("p",{class:"font-bold"},"Description: ",-1),pe={class:"my-2"},ke=e("p",{class:"font-bold"},"Status: ",-1),we={class:"my-2"},xe=e("p",{class:"font-bold"},"Price PLN: ",-1),ye={class:"flex flex-col ml-16"},be={class:"my-2"},ge=e("p",{class:"font-bold"},"Created at: ",-1),Ce={class:"my-2"},Pe=e("p",{class:"font-bold"},"Updated at: ",-1),je={class:"my-2"},Ne=e("p",{class:"font-bold"},"Pieces sold: ",-1),$e={class:"my-2"},Se=e("p",{class:"font-bold"},"In stock: ",-1),Be=e("label",{class:"ml-28",for:""},"Change quantity in stock",-1),Me={class:"flex"},qe={class:"flex justify-between mb-4 px-5 w-full"},Ze={__name:"ProductsList",props:{products:Object},setup(w){const v=w,x=h(!1),s=h(),c=h(),b=h(["all","active","hidden","deleted"]);let r=h(0);const f=P(()=>(b.value[r.value]||(r.value=0),b.value[r.value])),$=P(()=>f.value==="active"?v.products.data.filter(l=>l.status==="active"):f.value==="hidden"?v.products.data.filter(l=>l.status==="hidden"):f.value==="deleted"?v.products.data.filter(l=>l.status==="deleted"):v.products.data.filter(l=>l.status!=="deleted")),m=(l,o)=>{s.value=l,c.value=o,C("status")},S=l=>{s.value=l,c.value=l.quantity,x.value=!0},g=()=>{x.value=!1,s.value=null,c.value=0},C=l=>{A.patch(route("product.update",s.value.id),{type:l,newValue:c.value}).then(o=>{B(s.value.id,l,c.value),Z(`The ${s.value.name} product, field ${l} has been updated to ${c.value}`),g()}).catch(o=>{R("Something went wrong, please try again later.")})},B=(l,o,t)=>{for(const p of v.products.data)p.id==l&&(p[o]=t,console.log(p[o]))};return(l,o)=>(n(),k(z,null,{default:i(()=>[e("nav",G,[d(E,{placeholder:"Search product by name"}),d(O),e("div",H,[e("button",{onClick:o[0]||(o[0]=()=>M(r)?r.value++:r++)}," Show "+a(f.value),1)])]),e("div",J,[(n(!0),_(L,null,q($.value,(t,p)=>(n(),_("div",{class:U([t.status=="deleted"?"brightness-50":"","flex justify-between w-2/3 h-2/3 m-2 p-5 bg-gray-100 border border-gray-300 shadow-2xl"])},[e("div",K,[e("div",Q,[e("img",{src:"data:image/pag;base64,"+t.photo,alt:"next-photo",class:"w-full h-full object-cover"},null,8,W)]),e("div",X,[e("p",null,"Name: "+a(t.name),1),e("p",null,"Status: "+a(t.status),1),e("p",null,"Price PLN: "+a(t.price),1)]),e("div",Y,[e("p",null,"created at: "+a(t.created_at?t.created_at.slice(0,10):""),1),e("p",null,"In stock: "+a(t.quantity),1),ee])]),t.status!=="deleted"?(n(),_("div",te,[e("div",null,[t.status==="active"?(n(),_("svg",se,oe)):(n(),_("svg",ne,ce))]),e("div",de,[d(N,{onClick:()=>S(t)},{default:i(()=>[u(" stock ")]),_:2},1032,["onClick"]),t.status==="active"?(n(),k(y,{key:0,onClick:()=>m(t,"hidden"),class:"mx-2"},{default:i(()=>[u(" hide ")]),_:2},1032,["onClick"])):(n(),k(y,{key:1,onClick:()=>m(t,"active"),class:"mx-2"},{default:i(()=>[u(" activ ")]),_:2},1032,["onClick"])),d(j,{onClick:()=>m(t,"deleted"),class:"px-5 py-2"},{default:i(()=>[u(" trash ")]),_:2},1032,["onClick"])])])):(n(),_("div",ue,[d(j,{onClick:()=>m(t,"hidden"),class:"bg-gray-500 px-5 py-2"},{default:i(()=>[u(" re-trash ")]),_:2},1032,["onClick"])]))],2))),256))]),w.products.last_page>1?(n(),k(F,{key:0,items:w.products.links},null,8,["items"])):V("",!0),d(I,{show:x.value},{default:i(()=>[e("div",re,[e("div",_e,[e("div",ve,[he,e("p",null,a(s.value.name),1)]),e("div",fe,[me,e("p",null,a(s.value.description),1)]),e("div",pe,[ke,e("p",null,a(s.value.status),1)]),e("div",we,[xe,e("p",null,a(s.value.price),1)])]),e("div",ye,[e("div",be,[ge,e("p",null,a(s.value.created_at?s.value.created_at.slice(0,10):"unknow"),1),e("p",null,a(s.value.created_at?s.value.created_at.slice(11,19):"unknow"),1)]),e("div",Ce,[Pe,e("p",null,a(s.value.updated_at?s.value.updated_at.slice(0,10):"unknow"),1),e("p",null,a(s.value.updated_at?s.value.updated_at.slice(11,19):"unknow"),1)]),e("div",je,[Ne,e("p",null,a(s.value.sold??0),1)]),e("div",$e,[Se,e("p",null,a(s.value.quantity),1)])])]),Be,e("div",Me,[D(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>c.value=t),product:"",min:"1",class:"ml-16 h-8 text-center"},null,512),[[T,c.value]]),e("div",qe,[d(N,{onClick:o[2]||(o[2]=t=>C("quantity"))},{default:i(()=>[u(" change ")]),_:1}),d(y,{onClick:g},{default:i(()=>[u(" close ")]),_:1})])])]),_:1},8,["show"])]),_:1}))}};export{Ze as default};
