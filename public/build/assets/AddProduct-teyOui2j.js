import{r as _,w as V,T as C,a as M,o,c as Z,b as w,d as e,e as A,f as h,v as g,u as a,t as d,g as y,h as s,i as x,F as b,j as P,k as B,l as S}from"./app-O0YGpkNr.js";import{_ as q}from"./AdminLayout-GHib-gmW.js";import{P as E}from"./PrimaryButton-TZP9yBEG.js";import{s as N,a as $}from"./CategoryBar-jmnfL6ZP.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const U={class:"max-w-4xl mx-auto my-5 bg-gray-100 dark:bg-gray-600 rounded-xl p-6 shadow-md"},D=e("h2",{class:"text-2xl font-semibold mb-4"},"Add product",-1),F={class:"flex justify-evenly"},L={class:"min-w-80"},T={class:"mb-4"},R=e("label",{for:"name",class:"block text-sm font-medium text-gray-600"},"Name:",-1),O={class:"text-red-600 text-sm"},Q={class:"mb-4"},W=e("label",{for:"category",class:"block text-sm font-medium text-gray-600"},"Category:",-1),z=e("option",{disabled:"",value:""},"Please select category",-1),G=["value"],H={class:"text-red-600 text-sm"},I={key:0,class:"mb-4"},J=e("label",{for:"category",class:"block text-sm font-medium text-gray-600"},"Subategory:",-1),K=e("option",{disabled:"",value:""},"Please select subcategory",-1),X=["value"],Y={class:"text-red-600 text-sm"},ee={class:"mb-4"},te=e("label",{for:"quantity",class:"block text-sm font-medium text-gray-600"},"Avaiable quantity",-1),oe={class:"text-red-600"},se={class:"text-red-600 text-sm"},le={class:"mb-4"},re=e("label",{for:"price",class:"block text-sm font-medium text-gray-600"},"Price (PLN)",-1),ne={class:"text-red-600"},ie={class:"text-red-600 text-sm"},ae={class:"mb-4"},de=e("label",{for:"description",class:"block text-sm font-medium text-gray-600"},"Description",-1),ce={class:"text-red-600 text-sm"},ue={class:"min-w-80"},he=e("h3",{class:"text-xl"},"Photos",-1),pe={class:"flex justify-evenly py-5 border border-gray-300 drak:border-gray-600 rounded-xl"},_e={class:"flex flex-col gap-10"},ge={for:"photo1",class:"flex justify-center items-center w-[100px] h-[100px] bg-gray-200 rounded-lg cursor-pointer overflow-hidden hover:brightness-75 transition duration-300"},me=["src"],fe={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},ve=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"},null,-1),we=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"},null,-1),ye=[ve,we],xe={for:"photo2",class:"flex justify-center items-center w-[100px] h-[100px] bg-gray-200 rounded-lg cursor-pointer overflow-hidden hover:brightness-75 transition duration-300"},be=["src"],ke={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},je=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"},null,-1),Ve=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"},null,-1),Ce=[je,Ve],Me={for:"photo3",class:"flex justify-center items-center w-[100px] h-[100px] bg-gray-200 rounded-lg cursor-pointer overflow-hidden hover:brightness-75 transition duration-300"},Ze=["src"],Ae={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Pe=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"},null,-1),Be=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"},null,-1),Se=[Pe,Be],qe={class:"flex flex-col gap-10"},Ee={for:"photo4",class:"flex justify-center items-center w-[100px] h-[100px] bg-gray-200 rounded-lg cursor-pointer overflow-hidden hover:brightness-75 transition duration-300"},Ne=["src"],$e={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Ue=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"},null,-1),De=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"},null,-1),Fe=[Ue,De],Le={for:"photo5",class:"flex justify-center items-center w-[100px] h-[100px] bg-gray-200 rounded-lg cursor-pointer overflow-hidden hover:brightness-75 transition duration-300"},Te=["src"],Re={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Oe=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"},null,-1),Qe=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"},null,-1),We=[Oe,Qe],ze={for:"photo6",class:"flex justify-center items-center w-[100px] h-[100px] bg-gray-200 rounded-lg cursor-pointer overflow-hidden hover:brightness-75 transition duration-300"},Ge=["src"],He={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Ie=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"},null,-1),Je=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"},null,-1),Ke=[Ie,Je],Xe={class:"flex justify-end"},lt={__name:"AddProduct",props:{categories:Object},setup(k){const c=_(""),p=_("");let m=_(!0),v=_(!0);const i=_({photo1:"",photo2:"",photo3:"",photo4:"",photo5:"",photo6:""});V([c,p],()=>{console.log(c.value),console.log(p.value),l.category_id=c.value.id,l.subcategory_id=p.value.id});const l=C({name:"",category_id:0,subcategory_id:0,quantity:"",price:"",description:"",photos:[]});function j(){confirm("Are you sure to add new product?")&&l.post(route("product.store"),{onSuccess:()=>{N(`Product ${l.name} has been added to the product list, now you can activate it.`)},onError:()=>{$("Something went wrong, please try again later.")}})}function u(r){if(l.photos.push(r.target.files),r.target.files[0]){const n=new FileReader;n.onload=function(t){i.value[r.srcElement.id]=t.target.result},n.readAsDataURL(r.target.files[0])}}return M(()=>{let r=l.price.toString().split(/[.,]/);r.length>1&&r[1].length>2||r.length>2?m.value=!1:m.value=!0,v.value=!(l.quantity<0)}),(r,n)=>(o(),Z(q,null,{default:w(()=>[e("div",U,[D,e("form",{onSubmit:A(j,["prevent"])},[e("div",F,[e("div",L,[e("div",T,[R,h(e("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>a(l).name=t),class:"mt-1 p-2 w-full border rounded-md",placeholder:"Enter the name of the advertisement."},null,512),[[g,a(l).name]]),e("p",O,d(r.$page.props.errors.name),1)]),e("div",Q,[W,h(e("select",{"onUpdate:modelValue":n[1]||(n[1]=t=>c.value=t),class:"mt-1 p-2 w-full border rounded-md"},[z,(o(!0),s(b,null,x(k.categories,(t,f)=>(o(),s("option",{key:f,value:t},d(t.name),9,G))),128))],512),[[y,c.value]]),e("p",H,d(r.$page.props.errors.category),1)]),c.value?(o(),s("div",I,[J,h(e("select",{"onUpdate:modelValue":n[2]||(n[2]=t=>p.value=t),class:"mt-1 p-2 w-full border rounded-md"},[K,(o(!0),s(b,null,x(c.value.sub_category,(t,f)=>(o(),s("option",{key:f,value:t},d(t.name),9,X))),128))],512),[[y,p.value]]),e("p",Y,d(r.$page.props.errors.category),1)])):P("",!0),e("div",ee,[te,h(e("input",{type:"number","onUpdate:modelValue":n[3]||(n[3]=t=>a(l).quantity=t),min:"0",class:"mt-1 p-2 w-full border rounded-md",placeholder:"Wprować dostępną ilość produktów."},null,512),[[g,a(l).quantity]]),e("p",oe,d(a(v)?"":"Please provide correct quantyti!"),1),e("p",se,d(r.$page.props.errors.quantity),1)]),e("div",le,[re,h(e("input",{type:"number","onUpdate:modelValue":n[4]||(n[4]=t=>a(l).price=t),class:"mt-1 p-2 w-full border rounded-md",placeholder:"Enter price."},null,512),[[g,a(l).price]]),e("p",ne,d(a(m)?"":"Please provide correct price!"),1),e("p",ie,d(r.$page.props.errors.price),1)]),e("div",ae,[de,h(e("textarea",{"onUpdate:modelValue":n[5]||(n[5]=t=>a(l).description=t),rows:"4",class:"mt-1 p-2 w-full border rounded-md",placeholder:"Enter destription of the product."},null,512),[[g,a(l).description]]),e("p",ce,d(r.$page.props.errors.description),1)])]),e("div",ue,[he,e("div",pe,[e("div",_e,[e("label",ge,[i.value.photo1?(o(),s("img",{key:0,src:i.value.photo1,alt:"added-photo",class:"w-full h-full object-cover"},null,8,me)):(o(),s("svg",fe,ye)),e("input",{type:"file",id:"photo1",onChange:u,accept:"image/png, image/jpeg",hidden:""},null,32)]),e("label",xe,[i.value.photo2?(o(),s("img",{key:0,src:i.value.photo2,alt:"added-photo",class:"w-full h-full object-cover"},null,8,be)):(o(),s("svg",ke,Ce)),e("input",{type:"file",id:"photo2",onChange:u,accept:"image/png, image/jpeg",hidden:""},null,32)]),e("label",Me,[i.value.photo3?(o(),s("img",{key:0,src:i.value.photo3,alt:"added-photo",class:"w-full h-full object-cover"},null,8,Ze)):(o(),s("svg",Ae,Se)),e("input",{type:"file",id:"photo3",onChange:u,accept:"image/png, image/jpeg",hidden:""},null,32)])]),e("div",qe,[e("label",Ee,[i.value.photo4?(o(),s("img",{key:0,src:i.value.photo4,alt:"added-photo",class:"w-full h-full object-cover"},null,8,Ne)):(o(),s("svg",$e,Fe)),e("input",{type:"file",id:"photo4",onChange:u,accept:"image/png, image/jpeg",hidden:""},null,32)]),e("label",Le,[i.value.photo5?(o(),s("img",{key:0,src:i.value.photo5,alt:"added-photo",class:"w-full h-full object-cover"},null,8,Te)):(o(),s("svg",Re,We)),e("input",{type:"file",id:"photo5",onChange:u,accept:"image/png, image/jpeg",hidden:""},null,32)]),e("label",ze,[i.value.photo6?(o(),s("img",{key:0,src:i.value.photo6,alt:"added-photo",class:"w-full h-full object-cover"},null,8,Ge)):(o(),s("svg",He,Ke)),e("input",{type:"file",id:"photo6",onChange:u,accept:"image/png, image/jpeg",hidden:""},null,32)])])])])]),e("div",Xe,[B(E,null,{default:w(()=>[S("add product")]),_:1})])],32)])]),_:1}))}};export{lt as default};
