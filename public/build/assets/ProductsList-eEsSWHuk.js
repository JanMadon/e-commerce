import{r as h,m as N,o as n,c as w,b as i,d as e,k as d,z as M,t as a,h as u,i as q,F as L,j as V,f as D,v as T,l as r,A,q as U}from"./app-s27R_iCn.js";import{_ as z}from"./AdminLayout-wxFWROpR.js";import{_ as E,a as F}from"./SearchFrom-Jkajrhae.js";import{D as P}from"./DangerButton-WgfIlQdK.js";import{_ as y}from"./SecondaryButton-zA58z2O4.js";import{P as j}from"./PrimaryButton-Nzhgq-r6.js";import{_ as I}from"./Modal-9zBnMMiy.js";import{_ as O}from"./PaginateSelector-1nyULVRG.js";import{a as Z,s as R}from"./CategoryBar-prAplqq9.js";import"./TextInput-OCLDrrFy.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const G={class:"flex items-center justify-between bg-slate-100 mb-3 text-gray-600"},H={class:"pl-10 w-48"},J={class:"flex flex-col items-center"},K={key:0,class:"mt-10"},Q={class:"flex"},W={class:"w-[90px] h-[90px] mx-3 bg-gray-200 overflow-hidden"},X=["src"],Y={class:"flex flex-col ml-5"},ee={class:"flex flex-col ml-10"},te=e("p",null,"Pieces sold:",-1),se={key:0,class:"flex flex-col justify-between items-end"},le={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},ae=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"},null,-1),oe=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1),ne=[ae,oe],ie={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},ce=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1),de=[ce],ue={class:"flex"},re={key:1},_e={class:"flex text-xl"},ve={class:"flex flex-col ml-10 w-1/2"},he={class:"my-2"},fe=e("p",{class:"font-bold"},"Name: ",-1),me={class:"my-2"},pe=e("p",{class:"font-bold"},"Description: ",-1),ke={class:"my-2"},we=e("p",{class:"font-bold"},"Status: ",-1),xe={class:"my-2"},ye=e("p",{class:"font-bold"},"Price PLN: ",-1),be={class:"flex flex-col ml-16"},ge={class:"my-2"},Ce=e("p",{class:"font-bold"},"Created at: ",-1),Ne={class:"my-2"},Pe=e("p",{class:"font-bold"},"Updated at: ",-1),je={class:"my-2"},$e=e("p",{class:"font-bold"},"Pieces sold: ",-1),Se={class:"my-2"},Be=e("p",{class:"font-bold"},"In stock: ",-1),Me=e("label",{class:"ml-28",for:""},"Change quantity in stock",-1),qe={class:"flex"},Le={class:"flex justify-between mb-4 px-5 w-full"},Re={__name:"ProductsList",props:{products:Object},setup(f){const v=f,x=h(!1),s=h(),c=h(),b=h(["all","active","hidden","deleted"]);let _=h(0);const m=N(()=>(b.value[_.value]||(_.value=0),b.value[_.value])),$=N(()=>m.value==="active"?v.products.data.filter(l=>l.status==="active"):m.value==="hidden"?v.products.data.filter(l=>l.status==="hidden"):m.value==="deleted"?v.products.data.filter(l=>l.status==="deleted"):v.products.data.filter(l=>l.status!=="deleted")),p=(l,o)=>{s.value=l,c.value=o,C("status")},S=l=>{s.value=l,c.value=l.quantity,x.value=!0},g=()=>{x.value=!1,s.value=null,c.value=0},C=l=>{A.patch(route("product.update",s.value.id),{type:l,newValue:c.value}).then(o=>{B(s.value.id,l,c.value),Z(`The ${s.value.name} product, field ${l} has been updated to ${c.value}`),g()}).catch(o=>{R("Something went wrong, please try again later.")})},B=(l,o,t)=>{for(const k of v.products.data)k.id==l&&(k[o]=t,console.log(k[o]))};return(l,o)=>(n(),w(z,null,{default:i(()=>[e("nav",G,[d(E,{placeholder:"Search product by name"}),d(O),e("div",H,[e("button",{onClick:o[0]||(o[0]=()=>M(_)?_.value++:_++)}," Show "+a(m.value),1)])]),e("div",J,[f.products.data.length?(n(!0),u(L,{key:1},q($.value,(t,k)=>(n(),u("div",{class:U([t.status=="deleted"?"brightness-50":"","flex justify-between w-2/3 h-2/3 m-2 p-5 bg-gray-100 border border-gray-300 shadow-2xl"])},[e("div",Q,[e("div",W,[e("img",{src:"data:image/pag;base64,"+t.photo,alt:"next-photo",class:"w-full h-full object-cover"},null,8,X)]),e("div",Y,[e("p",null,"Name: "+a(t.name),1),e("p",null,"Status: "+a(t.status),1),e("p",null,"Price PLN: "+a(t.price),1)]),e("div",ee,[e("p",null,"created at: "+a(t.created_at?t.created_at.slice(0,10):""),1),e("p",null,"In stock: "+a(t.quantity),1),te])]),t.status!=="deleted"?(n(),u("div",se,[e("div",null,[t.status==="active"?(n(),u("svg",le,ne)):(n(),u("svg",ie,de))]),e("div",ue,[d(j,{onClick:()=>S(t)},{default:i(()=>[r(" stock ")]),_:2},1032,["onClick"]),t.status==="active"?(n(),w(y,{key:0,onClick:()=>p(t,"hidden"),class:"mx-2"},{default:i(()=>[r(" hide ")]),_:2},1032,["onClick"])):(n(),w(y,{key:1,onClick:()=>p(t,"active"),class:"mx-2"},{default:i(()=>[r(" activ ")]),_:2},1032,["onClick"])),d(P,{onClick:()=>p(t,"deleted"),class:"px-5 py-2"},{default:i(()=>[r(" trash ")]),_:2},1032,["onClick"])])])):(n(),u("div",re,[d(P,{onClick:()=>p(t,"hidden"),class:"bg-gray-500 px-5 py-2"},{default:i(()=>[r(" re-trash ")]),_:2},1032,["onClick"])]))],2))),256)):(n(),u("div",K," No products available. "))]),f.products.last_page>1?(n(),w(F,{key:0,items:f.products.links},null,8,["items"])):V("",!0),d(I,{show:x.value},{default:i(()=>[e("div",_e,[e("div",ve,[e("div",he,[fe,e("p",null,a(s.value.name),1)]),e("div",me,[pe,e("p",null,a(s.value.description),1)]),e("div",ke,[we,e("p",null,a(s.value.status),1)]),e("div",xe,[ye,e("p",null,a(s.value.price),1)])]),e("div",be,[e("div",ge,[Ce,e("p",null,a(s.value.created_at?s.value.created_at.slice(0,10):"unknow"),1),e("p",null,a(s.value.created_at?s.value.created_at.slice(11,19):"unknow"),1)]),e("div",Ne,[Pe,e("p",null,a(s.value.updated_at?s.value.updated_at.slice(0,10):"unknow"),1),e("p",null,a(s.value.updated_at?s.value.updated_at.slice(11,19):"unknow"),1)]),e("div",je,[$e,e("p",null,a(s.value.sold??0),1)]),e("div",Se,[Be,e("p",null,a(s.value.quantity),1)])])]),Me,e("div",qe,[D(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>c.value=t),product:"",min:"1",class:"ml-16 h-8 text-center"},null,512),[[T,c.value]]),e("div",Le,[d(j,{onClick:o[2]||(o[2]=t=>C("quantity"))},{default:i(()=>[r(" change ")]),_:1}),d(y,{onClick:g},{default:i(()=>[r(" close ")]),_:1})])])]),_:1},8,["show"])]),_:1}))}};export{Re as default};
