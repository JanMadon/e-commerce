import{x as k,o as a,c as r,r as i,b as g,d as p,e as y,l as D,t as C}from"./app-s27R_iCn.js";import{_ as B}from"./AdminLayout-wxFWROpR.js";import{C as w,p as M,a as S,b as $,B as j,c as N,L as U,d as z}from"./index-5iq-fLbW.js";import{_ as T}from"./_plugin-vue_export-helper-x3n3nnut.js";import{_ as O}from"./SecondaryButton-zA58z2O4.js";import"./CategoryBar-prAplqq9.js";w.register(M,S,$,j,N,U);const L={name:"BarChart",components:{Bar:z},props:{chartData:{type:Object,required:!1,default:{}},chartOptions:{type:Object,default:{scales:{y:{suggestedMin:0,ticks:{stepSize:1}}},responsive:!0,backgroundColor:["rgb(60, 120, 50)"]}}}};function P(m,o,t,n,l,u){const c=k("Bar");return a(),r(c,{id:"my-chart-id",options:t.chartOptions,data:t.chartData},null,8,["options","data"])}const x=T(L,[["render",P]]),R={class:"flex items-center justify-end p-1 bm-3"},V={class:"ml-14 text-2xl font-bold"},q={class:"flex justify-center w-full"},E={class:"mt-3 w-[90%]"},K={__name:"Raports",props:{ordersDates:Object,usersData:Object},setup(m){const o=m,t=i(!1),n=[],l=[],u=i({}),c=i({}),h=i({}),_=i({}),b=v=>{const s=[],d=new Date;for(let f=v;f>=0;f--){let e=new Date;e.setDate(d.getDate()-f),e=e.toISOString().slice(0,10),s.push(e),o.ordersDates.hasOwnProperty(e)?n.push(o.ordersDates[e]):n.push(0),o.usersData.hasOwnProperty(e)?l.push(o.usersData[e]):l.push(0)}return s};return u.value={labels:b(30),datasets:[{label:"Number of orders",data:n}]},c.value={responsive:!0,backgroundColor:["rgb(60, 120, 50)"],scales:{y:{suggestedMin:0,suggestedMax:Math.max(...n)+1,ticks:{stepSize:1}}},plugins:{title:{display:!0,text:"Number of orders completed in the last 30 days.",padding:{bottom:5}}}},h.value={labels:b(30),datasets:[{label:"Number of users",data:l}]},_.value={responsive:!0,backgroundColor:["rgb(255, 99, 132)"],scales:{y:{suggestedMin:0,suggestedMax:Math.max(...l)+1,ticks:{stepSize:1}}},plugins:{title:{display:!0,text:"Number of registered users in the last 30 days.",padding:{bottom:5}}}},(v,s)=>(a(),r(B,null,{default:g(()=>[p("nav",R,[t.value?(a(),r(O,{key:0,onClick:s[0]||(s[0]=y(d=>t.value=!1,["prevent"]))},{default:g(()=>[D(" User raport ")]),_:1})):(a(),r(O,{key:1,onClick:s[1]||(s[1]=y(d=>t.value=!0,["prevent"]))},{default:g(()=>[D(" Order raport ")]),_:1}))]),p("h3",V,C(t.value?"Order raport":"User raport"),1),p("div",q,[p("div",E,[t.value?(a(),r(x,{key:0,chartData:u.value,chartOptions:c.value,class:"p-10 bg-gray-100"},null,8,["chartData","chartOptions"])):(a(),r(x,{key:1,chartData:h.value,chartOptions:_.value,class:"p-10 bg-gray-100"},null,8,["chartData","chartOptions"]))])])]),_:1}))}};export{K as default};
